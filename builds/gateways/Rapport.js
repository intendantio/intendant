"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=(a,b)=>{//Get all rapports
//Get one rapport
//Get all data
//Insert new rapport
//Delete rapport
//Truncate data rapport
//Insert new rapport data
a.get("/api/rapports",async(a,c)=>{a.url="/rapports";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.rapport.getAll())}),a.get("/api/rapports/:idRapport",async(a,c)=>{a.url="/rapports/:idRaport";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.rapport.getOne(a.params.idRapport))}),a.get("/api/rapports/:idRapport/data/:start/:end",async(a,c)=>{a.url="/rapports/:idRapport";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.rapport.getData(a.params.idRapport,a.params.start,a.params.end))}),a.post("/api/rapports",async(a,c)=>{a.url="/rapports";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.rapport.insert(a.body.type,a.body.chart,a.body.object,a.body.reference,a.body.interval,a.body.settings))}),a.delete("/api/rapports/:idRapport",async(a,c)=>{a.url="/rapports/:idRapport";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.rapport.delete(a.params.idRapport))}),a.patch("/api/rapports/:idRapport",async(a,c)=>{a.url="/rapports/:idRapport";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.rapport.truncate(a.params.idRapport))}),a.post("/api/rapports/:idRapport/data",async(a,c)=>{a.url="/rapports/:idRapport/data";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.rapport.insertData(a.params.idRapport,a.body.value))})};exports.default=_default,module.exports=exports.default;