"use strict";var _Result=_interopRequireDefault(require("../utils/Result"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _default=(a,b)=>{a.post("/api/client",async(a,c)=>{a.url="/client";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):a.body?c.send(await b.controller.client.insert({name:a.body.name,imei:a.body.imei,token:a.body.token,user:d.user})):c.send(new _Result.default(Package.name,!0,"Missing parametter"))}),a.get("/api/test",async(a,c)=>{let d=await b.controller.client.getAll(),e=d.data.map(a=>a.token);b.controller.notification.notify("Intendant","notify - test",e),c.send({})})};exports.default=_default,module.exports=exports.default;