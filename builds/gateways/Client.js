"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=(a,b)=>{a.post("/api/client",async(a,c)=>{a.url="/client";let d=await b.controller.authentification.checkAuthorization(a);if(d.error)c.send(d);else if(a.body)c.send(await b.controller.client.insert({name:a.body.name,imei:a.body.imei,token:a.body.token,user:d.user}));else return{error:!0,package:Package.name,message:"Missing parametter"}}),a.get("/api/test",async(a,c)=>{let d=await b.controller.client.getAll(),e=d.data.map(a=>a.token);b.controller.notification.notify("Intendant","notify - test",e),c.send({})})};exports.default=_default,module.exports=exports.default;