"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=(a,b)=>{//Get all process
//Insert new porcess
//Get one process
//Delete process
// Execute action
// Insert process profiles
// Delete process profiles
a.get("/api/processes",async(a,c)=>{a.url="/processes";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.process.getAll())}),a.post("/api/processes",async(a,c)=>{a.url="/processes";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.process.insert(a.body))}),a.get("/api/processes/:idProcess",async(a,c)=>{a.url="/espace/:id/processes/:idProcess";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.process.getOne(a.params.idProcess))}),a.delete("/api/processes/:idProcess",async(a,c)=>{a.url="/processes/:idProcess";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.process.delete(a.params.idProcess))}),a.post("/api/processes/:id/execute",async(a,c)=>{a.url="/processes/:idprocess/execute";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.process.executeAction(a.params.id,d.profile,a.body.inputs))}),a.post("/api/processes/:idProcess/profiles",async(a,c)=>{a.url="/processes/:idProcess/profiles";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.process.insertProcessProfile(a.params.idProcess,a.body.idProfile))}),a.delete("/api/processes/:idProcess/profiles/:idProfile",async(a,c)=>{a.url="/processes/:idProcess/profiles/:idProfile";let d=await b.controller.authentification.checkAuthorization(a);d.error?c.send(d):c.send(await b.controller.process.deleteProcessProfile(a.params.idProcess,a.params.idProfile))})};exports.default=_default,module.exports=exports.default;