"use strict";(self.webpackChunk_intendant_dashboard=self.webpackChunk_intendant_dashboard||[]).push([[429],{8429:function(e,t,r){r.r(t);var s=r(3032),n=r(7853),a=r(4531),o=r(8932),i=r(2587),c=r(4322),l=r.n(c),h=r(2791),d=r(703),u=r(890),p=r(7621),m=r(9373),f=(r(4893),r(1523)),g=r(5886),x=r(419),v=r(184),b=function(e){(0,o.Z)(r,e);var t=(0,i.Z)(r);function r(e){var s;return(0,n.Z)(this,r),(s=t.call(this,e)).state={message:"",error:!1},s}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){var e=(0,s.Z)(l().mark((function e(){var t,r,s,n,a,o,i,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://market.intendant.io/docs?id="+this.props.match.params.id);case 3:return t=e.sent,e.next=6,t.json();case 6:if(r=e.sent,s={},2==location.search.split("?").length&&location.search.split("?")[1].split("&").map((function(e){var t=e.split("=");2==t.length&&(s[t[0]]=t[1])})),"true"!=s.error){e.next=13;break}this.setState({message:s.message.replace(/\%20/g," "),error:!0}),e.next=32;break;case 13:if(void 0!=s.reference&&""!=s.reference){e.next=17;break}this.setState({message:"Missing reference, please retry",error:!0}),e.next=32;break;case 17:if(void 0!=s.room&&""!=s.room){e.next=21;break}this.setState({message:"Missing room, please retry",error:!0}),e.next=32;break;case 21:for(i in n=s.reference,delete s.reference,a=s.room,delete s.room,delete s.error,o=[],s)o.push({reference:i,value:s[i].replace(/%7C/g,"|")});return e.next=30,(new g.Z).post({room:a,module:r.package.name,reference:n.replace(/\%20/g," "),settings:o}).fetch("/api/smartobjects");case 30:(c=e.sent).error?this.setState({message:c.message,error:!0}):this.props.history.push("/room/"+a+"/smartobject/"+c.data.id);case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(0),this.setState({message:e.t0.toString(),error:!0});case 37:case"end":return e.stop()}}),e,this,[[0,34]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x.Z,{isMobile:this.props.isMobile,children:(0,v.jsxs)(d.Z,{variant:"outlined",style:{padding:12,marginBottom:10,justifyContent:"left"},children:[(0,v.jsx)(u.Z,{variant:"h5",children:"Smartobject"}),(0,v.jsx)(u.Z,{variant:"sutitle2",color:"text.secondary",children:"oAuth redirect"})]})}),this.state.error?(0,v.jsxs)(p.Z,{variant:"outlined",style:{padding:10},children:[(0,v.jsx)(u.Z,{variant:"h5",children:"Oups ! Smartobject cannot to be create"}),(0,v.jsx)(u.Z,{style:{marginTop:5},variant:"subtitle1",children:"Reason : "+this.state.message}),(0,v.jsx)(f.rU,{to:"/room",children:(0,v.jsx)(m.Z,{variant:"outlined",color:"inherit",style:{marginTop:10,borderColor:"white",color:"white"},children:"Retry now"})})]}):null]})}}]),r}(h.Component);t.default=b}}]);
//# sourceMappingURL=429.46b47f0c.chunk.js.map