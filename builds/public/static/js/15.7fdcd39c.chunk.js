"use strict";(self.webpackChunk_intendant_dashboard=self.webpackChunk_intendant_dashboard||[]).push([[15],{7610:function(e,t,r){r(2791);var n=r(7621),i=r(3400),s=r(5397),o=r(184);t.Z=function(e){return(0,o.jsx)(n.Z,{variant:"outlined",style:{width:"min-content",marginTop:8,marginBottom:10,alignContent:"center",justifyContent:"center",alignSelf:"center"},children:(0,o.jsx)(i.Z,{style:{borderRadius:0},onClick:function(){e.onClick&&e.onClick()},children:(0,o.jsx)(s.Z,{})})})}},2886:function(e,t,r){r.r(t);var n=r(8489),i=r(3032),s=r(7853),o=r(4531),a=r(8932),c=r(2587),l=r(4322),h=r.n(l),u=r(2791),d=r(703),p=r(4554),f=r(3402),g=r(890),m=r(1889),x=r(7621),Z=r(6647),y=r(5523),j=r(9955),v=r(9815),b=r(5876),C=r(419),k=r(7610),w=r(6711),M=r(5886),S=r(4051),A=r(9388),H=r(184),P=function(e){(0,a.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,s.Z)(this,r),(n=t.call(this,e)).state={id:e.match.params.id,room:{icon:"Autorenew",name:"",description:"",smartobjects:[]},loading:!0,profiles:[]},e.setTitle(""),e.setActionType("return"),n}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){var e=(0,i.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new M.Z).get().fetch("/api/profiles");case 2:return t=e.sent,e.next=5,(new M.Z).get().fetch("/api/rooms/"+this.state.id);case 5:(r=e.sent).error?(this.props.setMessage(r.package+" : "+r.message),this.props.history.push("/room")):t.error?(this.props.setMessage(t.package+" : "+t.message),this.props.history.push("/room")):(this.props.setTitle(r.data.name),this.setState({loading:!1,room:r.data,profiles:t.data}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,i.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new M.Z).delete().fetch("/api/rooms/"+t);case 2:(r=e.sent).error?this.props.setMessage(r.package+" : "+r.message):this.props.history.push("/room");case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insertProfile",value:function(){var e=(0,i.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new M.Z).post({idProfile:t.id}).fetch("/api/rooms/"+this.state.room.id+"/profiles");case 2:(r=e.sent).error?this.props.setMessage(r.package+" : "+r.message):this.componentDidMount();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteProfile",value:function(){var e=(0,i.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new M.Z).delete().fetch("/api/rooms/"+this.state.room.id+"/profiles/"+t.id);case 2:(r=e.sent).error?this.props.setMessage(r.package+" : "+r.message):this.componentDidMount();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=S[this.state.room.icon];return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(C.Z,(0,n.Z)((0,n.Z)({},this.props),{},{children:(0,H.jsx)(d.Z,{variant:"outlined",style:{padding:12,justifyContent:"left"},children:(0,H.jsx)(p.Z,{style:{display:"flex",flex:1},children:this.state.loading?(0,H.jsxs)(p.Z,{style:{width:"100%"},children:[(0,H.jsx)(f.Z,{height:40}),(0,H.jsx)(f.Z,{height:20})]}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(p.Z,{style:{display:"flex",justifyContent:"center",alignSelf:"center",marginRight:16},children:(0,H.jsx)(t,{fontSize:"large"})}),(0,H.jsxs)(p.Z,{style:{flex:4,alignSelf:"center",alignItems:"center"},children:[(0,H.jsx)(g.Z,{variant:"h6",fontWeight:"bold",children:String.capitalizeFirstLetter(this.state.room.name)}),(0,H.jsx)(g.Z,{variant:"subtitle2",color:"text.secondary",children:String.capitalizeFirstLetter(this.state.room.description)})]})]})})})})),(0,H.jsxs)(A.Z,{loading:this.state.loading,children:[(0,H.jsxs)(m.ZP,{container:!0,spacing:1,style:{marginTop:0},children:[0==this.state.room.smartobjects.length?(0,H.jsx)(m.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,H.jsx)(x.Z,{variant:"outlined",style:{padding:12},children:(0,H.jsx)(g.Z,{variant:"subtitle1",color:"text.secondary",children:"You have not added a smartobject"})})}):this.state.room.smartobjects.map((function(t,r){return(0,H.jsx)(m.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,H.jsx)(x.Z,{variant:"outlined",children:(0,H.jsx)(Z.Z,{style:{padding:12,display:"flex",flexDirection:"row",justifyContent:"flex-start"},onClick:function(){e.props.history.push("/room/"+e.state.id+"/smartobject/"+t.id)},children:(0,H.jsxs)(p.Z,{style:{display:"flex",flex:1},children:[(0,H.jsx)(p.Z,{style:{display:"flex",justifyContent:"center",alignSelf:"center",marginRight:16},children:"online"==t.state.status?(0,H.jsx)(v.Z,{fontSize:"large"}):(0,H.jsx)(b.Z,{color:"disabled",fontSize:"large"})}),(0,H.jsx)(p.Z,{style:{flex:4,alignSelf:"center",alignItems:"center"},children:(0,H.jsx)(g.Z,{variant:"subtitle1",color:"online"==t.state.status?"text.primary":"text.secondary",children:String.capitalizeFirstLetter(t.reference)})})]})})})},r)})),(0,H.jsx)(w.Z,{xs:12,fill:!0,md:6,lg:4,to:"/room/"+this.state.id+"/smartobject/gallery"}),(0,H.jsx)(m.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,H.jsx)(x.Z,{variant:"outlined",style:{padding:12},children:(0,H.jsx)(p.Z,{style:{display:"flex",flexWrap:"wrap"},children:this.state.profiles.map((function(t,r){var n=e.state.room.profiles.filter((function(e){return e.profile==t.id})).length>0;return(0,H.jsx)(p.Z,{style:{padding:1},children:(0,H.jsx)(y.Z,{control:(0,H.jsx)(j.Z,{checked:n,onChange:function(){n?e.deleteProfile(t):e.insertProfile(t)},color:"primary"}),label:String.capitalizeFirstLetter(t.name)})},r)}))})})})]}),(0,H.jsx)(k.Z,{onClick:function(){e.delete(e.state.id)}})]})]})}}]),r}(u.Component);t.default=P},3918:function(e,t,r){var n=r(4223),i=r(184);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached")},5370:function(e,t,r){var n=r(4223),i=r(184);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove")},6647:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(6222),i=r(7462),s=r(3366),o=r(2791),a=r(8182),c=r(767),l=r(1046),h=r(7630),u=r(5159);function d(e){return(0,u.Z)("MuiCardActionArea",e)}var p=(0,r(208).Z)("MuiCardActionArea",["root","focusVisible","focusHighlight"]),f=r(969),g=r(184),m=["children","className","focusVisibleClassName"],x=(0,h.ZP)(f.Z,{name:"MuiCardActionArea",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,r=e.theme;return t={display:"block",textAlign:"inherit",width:"100%"},(0,n.Z)(t,"&:hover .".concat(p.focusHighlight),{opacity:r.palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}}),(0,n.Z)(t,"&.".concat(p.focusVisible," .").concat(p.focusHighlight),{opacity:r.palette.action.focusOpacity}),t})),Z=(0,h.ZP)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:function(e,t){return t.focusHighlight}})((function(e){var t=e.theme;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}})),y=o.forwardRef((function(e,t){var r=(0,l.Z)({props:e,name:"MuiCardActionArea"}),n=r.children,o=r.className,h=r.focusVisibleClassName,u=(0,s.Z)(r,m),p=r,f=function(e){var t=e.classes;return(0,c.Z)({root:["root"],focusHighlight:["focusHighlight"]},d,t)}(p);return(0,g.jsxs)(x,(0,i.Z)({className:(0,a.Z)(f.root,o),focusVisibleClassName:(0,a.Z)(h,f.focusVisible),ref:t,ownerState:p},u,{children:[n,(0,g.jsx)(Z,{className:f.focusHighlight,ownerState:p})]}))}))}}]);
//# sourceMappingURL=15.7fdcd39c.chunk.js.map