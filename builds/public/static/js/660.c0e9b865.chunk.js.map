{"version":3,"file":"static/js/660.c0e9b865.chunk.js","mappings":"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","sources":["screens/contents/Module/Gallery.js","utils/Utils.js","../node_modules/@mui/icons-material/esm/Download.js","../node_modules/@mui/icons-material/esm/FlashOn.js","../node_modules/@mui/icons-material/esm/HourglassEmpty.js","../node_modules/@mui/material/CardActionArea/cardActionAreaClasses.js","../node_modules/@mui/material/CardActionArea/CardActionArea.js"],"sourcesContent":["import React from 'react'\r\nimport { Download, FlashOff, FlashOn, HourglassEmpty } from '@mui/icons-material'\r\nimport { Typography, Paper, Grid, Card, Box, CardActionArea } from '@mui/material'\r\nimport Desktop from '../../../components/Desktop'\r\nimport Loading from '../../../components/Loading'\r\nimport Request from '../../../utils/Request'\r\nimport Utils from '../../../utils/Utils'\r\n\r\nclass Module extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            loading: true,\r\n            modules: [],\r\n            loadingAction: []\r\n        }\r\n        props.setTitle(\"Module\")\r\n        props.setActionType(\"return\")\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let result = await fetch(\"https://market.intendant.io/modules.json\")\r\n        let resultModule = await new Request().get().fetch(\"/api/modules\")\r\n        let resultJSON = await result.json()\r\n        if (resultJSON.error) {\r\n            this.props.setMessage(resultJSON.package + \" : \" + resultJSON.message)\r\n        } else if (resultModule.error) {\r\n            this.props.setMessage(resultModule.package + \" : \" + resultModule.message)\r\n        } else {\r\n            let modules = resultJSON.map(pModule => {\r\n                let find = false\r\n                resultModule.data.forEach(installModule => {\r\n                    if (installModule.name == pModule.name) {\r\n                        find = true\r\n                    }\r\n                })\r\n                pModule.install = find\r\n                return pModule\r\n            })\r\n            this.setState({\r\n                loading: false,\r\n                modules: modules\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    async install(idModule) {\r\n        let loadingAction = this.state.loadingAction\r\n        loadingAction.push(idModule)\r\n        this.setState({ loadingAction: loadingAction })\r\n\r\n        let result = await new Request().patch().fetch(\"/api/modules/\" + idModule)\r\n        let index = this.state.loadingAction.indexOf(idModule)\r\n        loadingAction = this.state.loadingAction\r\n        loadingAction.splice(index, 1)\r\n\r\n        this.setState({ loadingAction: loadingAction })\r\n        \r\n        if (result.error) {\r\n            this.props.setMessage(result.package + \" : \" + result.message)\r\n        } else {\r\n            \r\n            this.componentDidMount()\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Desktop isMobile={this.props.isMobile}>\r\n                    <Paper variant=\"outlined\" style={{ padding: 12, justifyContent: 'left' }}>\r\n                        <Typography variant='h6' fontWeight='bold' >Module</Typography>\r\n                        <Typography variant='subtitle2' color=\"text.secondary\"  >Automate your home</Typography>\r\n                    </Paper>\r\n                </Desktop>\r\n                <Loading loading={this.state.loading}>\r\n                    <Grid container spacing={1} style={{ marginTop: 0 }}>\r\n                        {\r\n                            this.state.modules.map((pModule, index) => {\r\n                                return (\r\n                                    <Grid key={index} item xs={12} md={6} lg={4} >\r\n                                        <Card variant={'outlined'}  >\r\n                                            <CardActionArea onClick={() => {this.install(Utils.getSum(pModule.name))}}  disabled={this.state.loadingAction.includes(Utils.getSum(pModule.name)) || pModule.install} style={{ padding: 12, display: 'flex', flexDirection: 'row', justifyContent: 'flex-start' }}   >\r\n                                                <Box style={{ display: 'flex', flex: 1 }} >\r\n                                                    <Box style={{ display: 'flex', justifyContent: 'center', alignSelf: 'center', marginRight: 16 }}>\r\n                                                        {this.state.loadingAction.includes(Utils.getSum(pModule.name)) ? <HourglassEmpty  fontSize='large'  /> :  pModule.install ? <FlashOn fontSize='large' color='disabled' /> : <Download fontSize='large' />}\r\n                                                    </Box>\r\n                                                    <Box style={{ flex: 4, alignSelf: 'center', alignItems: 'center' }} >\r\n                                                        <Typography variant='subtitle1' color={ pModule.install ?  \"text.secondary\"  : \"text.primary\"} >\r\n                                                            {pModule.reference}\r\n                                                        </Typography>\r\n                                                        <Typography variant='body2' color={ pModule.install ?  \"text.secondary\"  : \"text.primary\"}  >\r\n                                                            {\"Free\"}\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                </Box>\r\n                                            </CardActionArea>\r\n                                        </Card>\r\n                                    </Grid>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Grid>\r\n                </Loading>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Module","class Utils {\r\n\r\n    static getSum(s = \"\") {\r\n        return s.split(\"\").reduce(function(a,b){a=((a<<5)-a)+b.charCodeAt(0);return a&a},0);     \r\n    }\r\n\r\n}\r\nexport default Utils","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z\"\n}), 'Download');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M7 2v11h3v9l7-12h-4l4-8z\"\n}), 'FlashOn');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5-4-4V4h8v3.5l-4 4z\"\n}), 'HourglassEmpty');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardActionAreaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActionArea', slot);\n}\nconst cardActionAreaClasses = generateUtilityClasses('MuiCardActionArea', ['root', 'focusVisible', 'focusHighlight']);\nexport default cardActionAreaClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"focusVisibleClassName\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport cardActionAreaClasses, { getCardActionAreaUtilityClass } from './cardActionAreaClasses';\nimport ButtonBase from '../ButtonBase';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    focusHighlight: ['focusHighlight']\n  };\n  return composeClasses(slots, getCardActionAreaUtilityClass, classes);\n};\n\nconst CardActionAreaRoot = styled(ButtonBase, {\n  name: 'MuiCardActionArea',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'block',\n  textAlign: 'inherit',\n  width: '100%',\n  [`&:hover .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.hoverOpacity,\n    '@media (hover: none)': {\n      opacity: 0\n    }\n  },\n  [`&.${cardActionAreaClasses.focusVisible} .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.focusOpacity\n  }\n}));\nconst CardActionAreaFocusHighlight = styled('span', {\n  name: 'MuiCardActionArea',\n  slot: 'FocusHighlight',\n  overridesResolver: (props, styles) => styles.focusHighlight\n})(({\n  theme\n}) => ({\n  overflow: 'hidden',\n  pointerEvents: 'none',\n  position: 'absolute',\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  borderRadius: 'inherit',\n  opacity: 0,\n  backgroundColor: 'currentcolor',\n  transition: theme.transitions.create('opacity', {\n    duration: theme.transitions.duration.short\n  })\n}));\nconst CardActionArea = /*#__PURE__*/React.forwardRef(function CardActionArea(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActionArea'\n  });\n\n  const {\n    children,\n    className,\n    focusVisibleClassName\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(CardActionAreaRoot, _extends({\n    className: clsx(classes.root, className),\n    focusVisibleClassName: clsx(focusVisibleClassName, classes.focusVisible),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [children, /*#__PURE__*/_jsx(CardActionAreaFocusHighlight, {\n      className: classes.focusHighlight,\n      ownerState: ownerState\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActionArea.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardActionArea;"],"names":["Module","props","state","loading","modules","loadingAction","setTitle","setActionType","fetch","result","Request","get","resultModule","json","resultJSON","error","this","setMessage","package","message","map","pModule","find","data","forEach","installModule","name","install","setState","idModule","push","patch","index","indexOf","splice","componentDidMount","isMobile","variant","style","padding","justifyContent","fontWeight","color","container","spacing","marginTop","item","xs","md","lg","onClick","Utils","disabled","includes","display","flexDirection","flex","alignSelf","marginRight","fontSize","alignItems","reference","React","s","split","reduce","a","b","charCodeAt","createSvgIcon","_jsx","d","getCardActionAreaUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CardActionAreaRoot","styled","ButtonBase","overridesResolver","styles","root","theme","textAlign","width","cardActionAreaClasses","opacity","palette","action","hoverOpacity","focusOpacity","CardActionAreaFocusHighlight","focusHighlight","overflow","pointerEvents","position","top","right","bottom","left","borderRadius","backgroundColor","transition","transitions","create","duration","short","inProps","ref","useThemeProps","children","className","focusVisibleClassName","other","_objectWithoutPropertiesLoose","ownerState","classes","composeClasses","useUtilityClasses","_jsxs","_extends","clsx","focusVisible"],"sourceRoot":""}