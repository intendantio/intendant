"use strict";(self.webpackChunk_intendant_dashboard=self.webpackChunk_intendant_dashboard||[]).push([[660],{9660:function(t,e,n){n.r(e);var i=n(3032),r=n(7853),s=n(4531),a=n(8932),o=n(2587),l=n(4322),c=n.n(l),u=n(2791),d=n(5347),h=n(9815),f=n(2456),p=n(703),g=n(890),m=n(1889),v=n(7621),Z=n(6647),x=n(4554),y=n(419),j=n(9388),b=n(5886),A=n(7457),M=n(184),k=function(t){(0,a.Z)(n,t);var e=(0,o.Z)(n);function n(t){var i;return(0,r.Z)(this,n),(i=e.call(this,t)).state={loading:!0,modules:[],loadingAction:[]},t.setTitle("Module"),t.setActionType("return"),i}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var t=(0,i.Z)(c().mark((function t(){var e,n,i,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://market.intendant.io/modules.json");case 2:return e=t.sent,t.next=5,(new b.Z).get().fetch("/api/modules");case 5:return n=t.sent,t.next=8,e.json();case 8:(i=t.sent).error?this.props.setMessage(i.package+" : "+i.message):n.error?this.props.setMessage(n.package+" : "+n.message):(r=i.map((function(t){var e=!1;return n.data.forEach((function(n){n.name==t.name&&(e=!0)})),t.install=e,t})),this.setState({loading:!1,modules:r}));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"install",value:function(){var t=(0,i.Z)(c().mark((function t(e){var n,i,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=this.state.loadingAction).push(e),this.setState({loadingAction:n}),t.next=5,(new b.Z).patch().fetch("/api/modules/"+e);case 5:i=t.sent,r=this.state.loadingAction.indexOf(e),(n=this.state.loadingAction).splice(r,1),this.setState({loadingAction:n}),i.error?this.props.setMessage(i.package+" : "+i.message):this.componentDidMount();case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(y.Z,{isMobile:this.props.isMobile,children:(0,M.jsxs)(p.Z,{variant:"outlined",style:{padding:12,justifyContent:"left"},children:[(0,M.jsx)(g.Z,{variant:"h6",fontWeight:"bold",children:"Module"}),(0,M.jsx)(g.Z,{variant:"subtitle2",color:"text.secondary",children:"Automate your home"})]})}),(0,M.jsx)(j.Z,{loading:this.state.loading,children:(0,M.jsx)(m.ZP,{container:!0,spacing:1,style:{marginTop:0},children:this.state.modules.map((function(e,n){return(0,M.jsx)(m.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,M.jsx)(v.Z,{variant:"outlined",children:(0,M.jsx)(Z.Z,{onClick:function(){t.install(A.Z.getSum(e.name))},disabled:t.state.loadingAction.includes(A.Z.getSum(e.name))||e.install,style:{padding:12,display:"flex",flexDirection:"row",justifyContent:"flex-start"},children:(0,M.jsxs)(x.Z,{style:{display:"flex",flex:1},children:[(0,M.jsx)(x.Z,{style:{display:"flex",justifyContent:"center",alignSelf:"center",marginRight:16},children:t.state.loadingAction.includes(A.Z.getSum(e.name))?(0,M.jsx)(d.Z,{fontSize:"large"}):e.install?(0,M.jsx)(h.Z,{fontSize:"large",color:"disabled"}):(0,M.jsx)(f.Z,{fontSize:"large"})}),(0,M.jsxs)(x.Z,{style:{flex:4,alignSelf:"center",alignItems:"center"},children:[(0,M.jsx)(g.Z,{variant:"subtitle1",color:e.install?"text.secondary":"text.primary",children:e.reference}),(0,M.jsx)(g.Z,{variant:"body2",color:e.install?"text.secondary":"text.primary",children:"Free"})]})]})})})},n)}))})})]})}}]),n}(u.Component);e.default=k},7457:function(t,e,n){var i=n(7853),r=n(4531),s=function(){function t(){(0,i.Z)(this,t)}return(0,r.Z)(t,null,[{key:"getSum",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0)}}]),t}();e.Z=s},2456:function(t,e,n){var i=n(4223),r=n(184);e.Z=(0,i.Z)((0,r.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download")},9815:function(t,e,n){var i=n(4223),r=n(184);e.Z=(0,i.Z)((0,r.jsx)("path",{d:"M7 2v11h3v9l7-12h-4l4-8z"}),"FlashOn")},5347:function(t,e,n){var i=n(4223),r=n(184);e.Z=(0,i.Z)((0,r.jsx)("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5-4-4V4h8v3.5l-4 4z"}),"HourglassEmpty")},6647:function(t,e,n){n.d(e,{Z:function(){return x}});var i=n(6222),r=n(7462),s=n(3366),a=n(2791),o=n(8182),l=n(767),c=n(1046),u=n(7630),d=n(5159);function h(t){return(0,d.Z)("MuiCardActionArea",t)}var f=(0,n(208).Z)("MuiCardActionArea",["root","focusVisible","focusHighlight"]),p=n(969),g=n(184),m=["children","className","focusVisibleClassName"],v=(0,u.ZP)(p.Z,{name:"MuiCardActionArea",slot:"Root",overridesResolver:function(t,e){return e.root}})((function(t){var e,n=t.theme;return e={display:"block",textAlign:"inherit",width:"100%"},(0,i.Z)(e,"&:hover .".concat(f.focusHighlight),{opacity:n.palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}}),(0,i.Z)(e,"&.".concat(f.focusVisible," .").concat(f.focusHighlight),{opacity:n.palette.action.focusOpacity}),e})),Z=(0,u.ZP)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:function(t,e){return e.focusHighlight}})((function(t){var e=t.theme;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}})),x=a.forwardRef((function(t,e){var n=(0,c.Z)({props:t,name:"MuiCardActionArea"}),i=n.children,a=n.className,u=n.focusVisibleClassName,d=(0,s.Z)(n,m),f=n,p=function(t){var e=t.classes;return(0,l.Z)({root:["root"],focusHighlight:["focusHighlight"]},h,e)}(f);return(0,g.jsxs)(v,(0,r.Z)({className:(0,o.Z)(p.root,a),focusVisibleClassName:(0,o.Z)(u,p.focusVisible),ref:e,ownerState:f},d,{children:[i,(0,g.jsx)(Z,{className:p.focusHighlight,ownerState:f})]}))}))}}]);
//# sourceMappingURL=660.c0e9b865.chunk.js.map