"use strict";(self.webpackChunk_intendant_dashboard=self.webpackChunk_intendant_dashboard||[]).push([[630],{1042:function(e,t,n){n.r(t);var r=n(3032),i=n(7853),s=n(4531),o=n(8932),a=n(2587),c=n(4322),u=n.n(c),l=n(2791),h=n(703),d=n(890),p=n(1889),f=n(7621),g=n(6647),v=n(5886),Z=n(419),x=n(6711),m=n(9388),y=n(184),b=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={page:0,users:[],loading:!0,profiles:[]},e.setTitle("User"),e.setActionType("list"),r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=(0,r.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new v.Z).get().fetch("/api/users");case 2:return t=e.sent,e.next=5,(new v.Z).get().fetch("/api/profiles");case 5:n=e.sent,t.error?this.props.setMessage(t.package+" : "+t.message):n.error?this.props.setMessage(n.package+" : "+n.message):this.setState({loading:!1,users:t.data,profiles:n.data});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new v.Z).delete().fetch("/api/users/"+t);case 2:(n=e.sent).error?this.props.setMessage(n.package+" : "+n.message):this.componentDidMount();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateProfile",value:function(){var e=(0,r.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new v.Z).put({login:t.login,profile:n}).fetch("/api/users/"+t.id);case 2:(r=e.sent).error?this.props.setMessage(r.package+" : "+r.message):this.componentDidMount();case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Z.Z,{isMobile:this.props.isMobile,children:(0,y.jsxs)(h.Z,{variant:"outlined",style:{padding:12,justifyContent:"left"},children:[(0,y.jsx)(d.Z,{variant:"h6",fontWeight:"bold",children:"Account"}),(0,y.jsx)(d.Z,{variant:"subtitle2",color:"text.secondary",children:"User list"})]})}),(0,y.jsx)(m.Z,{loading:this.state.loading,children:(0,y.jsxs)(p.ZP,{container:!0,spacing:1,style:{marginTop:0},children:[this.state.users.map((function(t,n){var r=e.state.profiles.filter((function(e){return e.id==t.profile}));return(0,y.jsx)(p.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,y.jsx)(f.Z,{variant:"outlined",children:(0,y.jsx)(g.Z,{style:{padding:12,display:"flex",flexDirection:"row",justifyContent:"flex-start"},onClick:function(){e.props.history.push("/user/"+t.id)},children:(0,y.jsx)(p.ZP,{container:!0,spacing:1,children:(0,y.jsxs)(p.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,y.jsx)(d.Z,{variant:"subtitle1",children:String.capitalizeFirstLetter(t.login)}),0==r.length?(0,y.jsx)(d.Z,{variant:"body2",color:"text.secondary",children:"Unknown"}):(0,y.jsx)(d.Z,{variant:"body2",color:"text.secondary",children:String.capitalizeFirstLetter(r[0].name)})]})})})})},n)})),(0,y.jsx)(x.Z,{to:"/user/new"})]})})]})}}]),n}(l.Component);t.default=b},6647:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(6222),i=n(7462),s=n(3366),o=n(2791),a=n(8182),c=n(767),u=n(1046),l=n(7630),h=n(5159);function d(e){return(0,h.Z)("MuiCardActionArea",e)}var p=(0,n(208).Z)("MuiCardActionArea",["root","focusVisible","focusHighlight"]),f=n(969),g=n(184),v=["children","className","focusVisibleClassName"],Z=(0,l.ZP)(f.Z,{name:"MuiCardActionArea",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,n=e.theme;return t={display:"block",textAlign:"inherit",width:"100%"},(0,r.Z)(t,"&:hover .".concat(p.focusHighlight),{opacity:n.palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}}),(0,r.Z)(t,"&.".concat(p.focusVisible," .").concat(p.focusHighlight),{opacity:n.palette.action.focusOpacity}),t})),x=(0,l.ZP)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:function(e,t){return t.focusHighlight}})((function(e){var t=e.theme;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}})),m=o.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiCardActionArea"}),r=n.children,o=n.className,l=n.focusVisibleClassName,h=(0,s.Z)(n,v),p=n,f=function(e){var t=e.classes;return(0,c.Z)({root:["root"],focusHighlight:["focusHighlight"]},d,t)}(p);return(0,g.jsxs)(Z,(0,i.Z)({className:(0,a.Z)(f.root,o),focusVisibleClassName:(0,a.Z)(l,f.focusVisible),ref:t,ownerState:p},h,{children:[r,(0,g.jsx)(x,{className:f.focusHighlight,ownerState:p})]}))}))}}]);
//# sourceMappingURL=630.a623ba1c.chunk.js.map