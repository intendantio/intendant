{"version":3,"file":"static/js/810.a6117f49.chunk.js","mappings":"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","sources":["components/WidgetItem.js","screens/contents/Widget/List.js"],"sourcesContent":["import React from 'react'\r\nimport Action from './Action'\r\n\r\n\r\nimport { Grid, Card, CardActionArea, CardContent, Badge, Collapse, IconButton, Typography, Button, Paper, Divider, CardHeader, CardActions } from '@mui/material'\r\nimport { ExpandLess, Delete } from '@mui/icons-material'\r\nimport WidgetSkeleton from './WidgetSkeleton'\r\n\r\nclass WidgetItem extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            widget: this.props.widget,\r\n            loading: false\r\n        }\r\n    }\r\n\r\n\r\n    componentDidUpdate() {\r\n        if(this.props.widget != this.state.widget) {\r\n            this.setState({\r\n                widget: this.props.widget\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return <WidgetSkeleton />\r\n        }\r\n        return (\r\n            <Grid key={this.props.index} item xs={12} md={6} lg={4}>\r\n                <Card variant='outlined'   >\r\n                    <CardActionArea onClick={() => { this.props.onSelect() }}>\r\n                        <CardContent>\r\n                            {\r\n                                this.state.widget.values.filter(value => value.type == \"title\").map((value, ppIndex) => {\r\n                                    return (\r\n                                        <Typography key={ppIndex} variant='subtitle1' component='div'>\r\n                                           {String.capitalizeFirstLetter(value.value)}\r\n                                        </Typography>\r\n                                    )\r\n                                })\r\n                            }\r\n                            {\r\n                                this.state.widget.values.filter(value => value.type == \"text\").length > 0 &&\r\n                                <Divider style={{ marginBottom: 10, marginTop: 5 }} />\r\n                            }\r\n                            {\r\n                                this.state.widget.values.filter(value => value.type == \"text\").map((value, ppIndex) => {\r\n                                    return (\r\n                                        <Typography key={ppIndex} variant='body2' color={value.style && value.style.color  ? this.state.widget.dataSources[value.style.color] : \"text.secondary\"}>\r\n                                            {String.capitalizeFirstLetter(value.value)}\r\n                                        </Typography>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </CardContent>\r\n                    </CardActionArea>\r\n                    <Collapse in={this.props.open} timeout=\"auto\" unmountOnExit>\r\n                        <CardActions>\r\n                            <IconButton size='small' onClick={() => { this.props.onDelete() }}>\r\n                                <Delete />\r\n                            </IconButton>\r\n                        </CardActions>\r\n                    </Collapse>\r\n                </Card>\r\n            </Grid>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WidgetItem","import React from 'react'\r\nimport { Typography, Paper, Grid, Card } from '@mui/material'\r\nimport Request from '../../../utils/Request'\r\n\r\nimport WidgetItem from '../../../components/WidgetItem'\r\nimport AddButton from '../../../components/views/AddButton'\r\nimport Loading from '../../../components/Loading'\r\nimport Desktop from '../../../components/Desktop'\r\n\r\nclass Widget extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            loading: true,\r\n            widgets: [],\r\n            open: false,\r\n            widget: {\r\n                id: -1\r\n            }\r\n        }\r\n        props.setTitle(\"Widget\")\r\n        props.setActionType(\"list\")\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let result = await new Request().get().fetch(\"/api/widgets\")\r\n        if (result.error) {\r\n            this.props.setMessage(result.package + \" : \" + result.message)\r\n        } else {\r\n            this.setState({ loading: false, widgets: result.data })\r\n        }\r\n    }\r\n\r\n    async delete() {\r\n        let result = await new Request().delete({}).fetch(\"/api/widgets/\" + this.state.widget.id)\r\n        if (result.error) {\r\n            this.props.setMessage(result.package + \" : \" + result.message)\r\n        } else {\r\n            this.setState({ loading: true, anchorEl: null, popover: false }, () => { this.componentDidMount() })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Desktop isMobile={this.props.isMobile}>\r\n                    <Paper variant=\"outlined\" style={{ padding: 12, justifyContent: 'left' }}>\r\n                        <Typography variant='h6' fontWeight='bold' >Widget</Typography>\r\n                        <Typography variant='subtitle2' color=\"text.secondary\" >Show what you need</Typography>\r\n                    </Paper>\r\n                </Desktop>\r\n                <Loading loading={this.state.loading}>\r\n                    <Grid container spacing={1} style={{ marginTop: 0 }}>\r\n                        {\r\n                            this.state.widgets.length == 0 ?\r\n                                <Grid item xs={12} md={12} lg={12}>\r\n                                    <Card variant='outlined' style={{ padding: 12 }}  >\r\n                                        <Typography variant='subtitle1' color=\"text.secondary\" >You have not added a widget</Typography>\r\n                                    </Card>\r\n                                </Grid>\r\n                                :\r\n                                this.state.widgets.map((widget, index) => (\r\n                                    <WidgetItem\r\n                                        key={index}\r\n                                        index={index}\r\n                                        onDelete={() => { this.delete() }}\r\n                                        onSelect={() => { this.setState({ widget: widget, open: true }) }}\r\n                                        open={this.state.open && this.state.widget.id == widget.id}\r\n                                        widget={widget}\r\n                                    />\r\n                                ))\r\n                        }\r\n                        <AddButton to=\"/widget/new\" />\r\n                    </Grid>\r\n                </Loading>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Widget"],"names":["WidgetItem","props","state","widget","loading","this","setState","WidgetSkeleton","Grid","item","xs","md","lg","Card","variant","CardActionArea","onClick","onSelect","CardContent","values","filter","value","type","map","ppIndex","Typography","component","String","capitalizeFirstLetter","length","Divider","style","marginBottom","marginTop","color","dataSources","Collapse","in","open","timeout","unmountOnExit","CardActions","IconButton","size","onDelete","Delete","index","React","Widget","widgets","id","setTitle","setActionType","Request","get","fetch","result","error","setMessage","package","message","data","delete","anchorEl","popover","componentDidMount","Desktop","isMobile","Paper","padding","justifyContent","fontWeight","Loading","container","spacing","AddButton","to"],"sourceRoot":""}