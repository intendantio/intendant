"use strict";(self.webpackChunk_intendant_dashboard=self.webpackChunk_intendant_dashboard||[]).push([[993],{7610:function(e,t,n){n(2791);var s=n(7621),r=n(3400),i=n(5397),a=n(184);t.Z=function(e){return(0,a.jsx)(s.Z,{variant:"outlined",style:{width:"min-content",marginTop:8,marginBottom:10,alignContent:"center",justifyContent:"center",alignSelf:"center"},children:(0,a.jsx)(r.Z,{style:{borderRadius:0},onClick:function(){e.onClick&&e.onClick()},children:(0,a.jsx)(i.Z,{})})})}},9993:function(e,t,n){n.r(t);var s=n(8489),r=n(3032),i=n(7853),a=n(4531),o=n(8932),l=n(2587),c=n(4322),u=n.n(c),h=n(2791),p=n(703),d=n(4554),f=n(890),g=n(1889),Z=n(7621),x=n(8096),m=n(9437),v=n(5523),j=n(1503),y=n(419),k=n(9388),w=n(7610),C=n(5886),b=n(2426),M=n.n(b),H=n(184),P=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(e){var s;return(0,i.Z)(this,n),(s=t.call(this,e)).state={id:e.match.params.id,profiles:[],loading:!1,user:{login:"",imei:"",histories:[],profile:""}},e.setTitle(""),e.setActionType("return"),s}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=(0,r.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new C.Z).get().fetch("/api/profiles");case 2:return t=e.sent,e.next=5,(new C.Z).get().fetch("/api/users/"+this.state.id);case 5:(n=e.sent).error?(this.props.setMessage(n.package+" : "+n.message),this.props.history.push("/user")):t.error?(this.props.setMessage(t.package+" : "+t.message),this.props.history.push("/user")):(this.props.setTitle(n.data.login),this.setState({loading:!1,user:n.data,profiles:t.data}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new C.Z).delete().fetch("/api/users/"+this.state.id);case 2:(t=e.sent).error?this.props.setMessage(t.package+" : "+t.message):this.props.history.push("/user");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateProfile",value:function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new C.Z).post({profile:t}).fetch("/api/users/"+this.state.id+"/profile");case 2:(n=e.sent).error?this.props.setMessage(n.package+" : "+n.message):this.componentDidMount();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(y.Z,(0,s.Z)((0,s.Z)({},this.props),{},{children:(0,H.jsx)(p.Z,{variant:"outlined",style:{padding:12,justifyContent:"left"},children:(0,H.jsx)(d.Z,{style:{display:"flex",flex:1},children:(0,H.jsxs)(d.Z,{style:{flex:4,alignSelf:"center",alignItems:"center"},children:[(0,H.jsx)(f.Z,{variant:"h6",fontWeight:"bold",children:String.capitalizeFirstLetter(this.state.user.login)}),(0,H.jsx)(f.Z,{variant:"subtitle2",color:"text.secondary",children:this.state.user.imei})]})})})})),(0,H.jsxs)(k.Z,{loading:this.state.loading,children:[(0,H.jsxs)(g.ZP,{container:!0,spacing:1,style:{marginTop:0},children:[(0,H.jsx)(g.ZP,{item:!0,xs:12,md:4,lg:4,children:(0,H.jsx)(Z.Z,{variant:"outlined",style:{padding:10},children:(0,H.jsx)(x.Z,{children:(0,H.jsx)(m.Z,{value:this.state.user.profile,onChange:function(t){e.updateProfile(t.target.value)},children:this.state.profiles.map((function(e,t){return(0,H.jsx)(v.Z,{value:e.id,control:(0,H.jsx)(j.Z,{}),label:String.capitalizeFirstLetter(e.name)},t)}))})})})}),(0,H.jsx)(g.ZP,{item:!0,xs:12,md:8,lg:8,children:(0,H.jsxs)(Z.Z,{variant:"outlined",style:{padding:10},children:[(0,H.jsx)(f.Z,{variant:"h5",style:{marginBottom:10},children:"Histories"}),this.state.user.histories.map((function(e,t){var n=M()(e.date);return(0,H.jsx)(f.Z,{variant:"body1",children:n.format("HH:mm:ss")+" - "+e.action},t)}))]})})]}),(0,H.jsx)(w.Z,{onClick:function(){e.delete()}})]})]})}}]),n}(h.Component);t.default=P},5397:function(e,t,n){var s=n(4223),r=n(184);t.Z=(0,s.Z)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")}}]);
//# sourceMappingURL=993.19723bf7.chunk.js.map