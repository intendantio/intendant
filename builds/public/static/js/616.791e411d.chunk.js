"use strict";(self.webpackChunk_intendant_dashboard=self.webpackChunk_intendant_dashboard||[]).push([[616],{7610:function(e,t,n){n(2791);var r=n(7621),i=n(3400),s=n(5397),o=n(184);t.Z=function(e){return(0,o.jsx)(r.Z,{variant:"outlined",style:{width:"min-content",marginTop:8,marginBottom:10,alignContent:"center",justifyContent:"center",alignSelf:"center"},children:(0,o.jsx)(i.Z,{style:{borderRadius:0},onClick:function(){e.onClick&&e.onClick()},children:(0,o.jsx)(s.Z,{})})})}},2886:function(e,t,n){n.r(t);var r=n(8489),i=n(3032),s=n(7853),o=n(4531),a=n(8932),c=n(2587),l=n(4322),u=n.n(l),h=n(2791),d=n(703),p=n(4554),f=n(890),g=n(1889),m=n(7621),x=n(6647),Z=n(5523),v=n(9955),y=n(9815),j=n(5876),b=n(419),C=n(7610),k=n(5886),w=n(3712),M=n(9388),S=n(184),A=function(e){(0,a.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).state={id:e.match.params.id,room:{icon:"Autorenew",name:"",description:"",smartobjects:[]},loading:!0,profiles:[]},e.setTitle(""),e.setActionType("return"),r}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=(0,i.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new k.Z).get().fetch("/api/profiles");case 2:return t=e.sent,e.next=5,(new k.Z).get().fetch("/api/rooms/"+this.state.id);case 5:(n=e.sent).error?(this.props.setMessage(n.package+" : "+n.message),this.props.history.push("/room")):t.error?(this.props.setMessage(t.package+" : "+t.message),this.props.history.push("/room")):(this.props.setTitle(n.data.name),this.setState({loading:!1,room:n.data,profiles:t.data}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,i.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new k.Z).delete().fetch("/api/rooms/"+t);case 2:(n=e.sent).error?this.props.setMessage(n.package+" : "+n.message):this.props.history.push("/room");case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insertProfile",value:function(){var e=(0,i.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new k.Z).post({idProfile:t.id}).fetch("/api/rooms/"+this.state.room.id+"/profiles");case 2:(n=e.sent).error?this.props.setMessage(n.package+" : "+n.message):this.componentDidMount();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteProfile",value:function(){var e=(0,i.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new k.Z).delete().fetch("/api/rooms/"+this.state.room.id+"/profiles/"+t.id);case 2:(n=e.sent).error?this.props.setMessage(n.package+" : "+n.message):this.componentDidMount();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=w[this.state.room.icon];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.Z,(0,r.Z)((0,r.Z)({},this.props),{},{children:(0,S.jsx)(d.Z,{variant:"outlined",style:{padding:12,justifyContent:"left"},children:(0,S.jsxs)(p.Z,{style:{display:"flex",flex:1},children:[this.state.loading?null:(0,S.jsx)(p.Z,{style:{display:"flex",justifyContent:"center",alignSelf:"center",marginRight:16},children:(0,S.jsx)(t,{fontSize:"large"})}),(0,S.jsxs)(p.Z,{style:{flex:4,alignSelf:"center",alignItems:"center"},children:[(0,S.jsx)(f.Z,{variant:"h6",fontWeight:"bold",children:String.capitalizeFirstLetter(this.state.room.name)}),(0,S.jsx)(f.Z,{variant:"subtitle2",color:"text.secondary",children:String.capitalizeFirstLetter(this.state.room.description)})]})]})})})),(0,S.jsxs)(M.Z,{loading:this.state.loading,children:[(0,S.jsxs)(g.ZP,{container:!0,spacing:1,style:{marginTop:0},children:[0==this.state.room.smartobjects.length?(0,S.jsx)(g.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,S.jsx)(m.Z,{variant:"outlined",style:{padding:12},children:(0,S.jsx)(f.Z,{variant:"subtitle1",color:"text.secondary",children:"You have not added a smartobject"})})}):this.state.room.smartobjects.map((function(t,n){return(0,S.jsx)(g.ZP,{item:!0,xs:12,md:6,lg:6,children:(0,S.jsx)(m.Z,{variant:"outlined",children:(0,S.jsx)(x.Z,{style:{padding:12,display:"flex",flexDirection:"row",justifyContent:"flex-start"},onClick:function(){e.props.history.push("/smartobject/"+t.id)},children:(0,S.jsxs)(p.Z,{style:{display:"flex",flex:1},children:[(0,S.jsx)(p.Z,{style:{display:"flex",justifyContent:"center",alignSelf:"center",marginRight:16},children:"online"==t.state.status?(0,S.jsx)(y.Z,{fontSize:"large"}):(0,S.jsx)(j.Z,{color:"disabled",fontSize:"large"})}),(0,S.jsx)(p.Z,{style:{flex:4,alignSelf:"center",alignItems:"center"},children:(0,S.jsx)(f.Z,{variant:"subtitle1",color:"online"==t.state.status?"text.primary":"text.secondary",children:String.capitalizeFirstLetter(t.reference)})})]})})})},n)})),(0,S.jsx)(g.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,S.jsx)(m.Z,{variant:"outlined",style:{padding:12},children:(0,S.jsx)(p.Z,{style:{display:"flex",flexWrap:"wrap"},children:this.state.profiles.map((function(t,n){var r=e.state.room.profiles.filter((function(e){return e.profile==t.id})).length>0;return(0,S.jsx)(p.Z,{style:{padding:1},children:(0,S.jsx)(Z.Z,{control:(0,S.jsx)(v.Z,{checked:r,onChange:function(){r?e.deleteProfile(t):e.insertProfile(t)},color:"primary"}),label:String.capitalizeFirstLetter(t.name)})},n)}))})})})]}),(0,S.jsx)(C.Z,{onClick:function(){e.delete(e.state.id)}})]})]})}}]),n}(h.Component);t.default=A},8087:function(e,t,n){var r=n(4223),i=n(184);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},3918:function(e,t,n){var r=n(4223),i=n(184);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached")},5370:function(e,t,n){var r=n(4223),i=n(184);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove")},6647:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(6222),i=n(7462),s=n(3366),o=n(2791),a=n(8182),c=n(767),l=n(1046),u=n(7630),h=n(5159);function d(e){return(0,h.Z)("MuiCardActionArea",e)}var p=(0,n(208).Z)("MuiCardActionArea",["root","focusVisible","focusHighlight"]),f=n(969),g=n(184),m=["children","className","focusVisibleClassName"],x=(0,u.ZP)(f.Z,{name:"MuiCardActionArea",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,n=e.theme;return t={display:"block",textAlign:"inherit",width:"100%"},(0,r.Z)(t,"&:hover .".concat(p.focusHighlight),{opacity:n.palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}}),(0,r.Z)(t,"&.".concat(p.focusVisible," .").concat(p.focusHighlight),{opacity:n.palette.action.focusOpacity}),t})),Z=(0,u.ZP)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:function(e,t){return t.focusHighlight}})((function(e){var t=e.theme;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}})),v=o.forwardRef((function(e,t){var n=(0,l.Z)({props:e,name:"MuiCardActionArea"}),r=n.children,o=n.className,u=n.focusVisibleClassName,h=(0,s.Z)(n,m),p=n,f=function(e){var t=e.classes;return(0,c.Z)({root:["root"],focusHighlight:["focusHighlight"]},d,t)}(p);return(0,g.jsxs)(x,(0,i.Z)({className:(0,a.Z)(f.root,o),focusVisibleClassName:(0,a.Z)(u,f.focusVisible),ref:t,ownerState:p},h,{children:[r,(0,g.jsx)(Z,{className:f.focusHighlight,ownerState:p})]}))}))}}]);
//# sourceMappingURL=616.791e411d.chunk.js.map