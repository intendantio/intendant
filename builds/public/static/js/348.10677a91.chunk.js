"use strict";(self.webpackChunk_intendant_dashboard=self.webpackChunk_intendant_dashboard||[]).push([[348],{6711:function(t,e,n){n(2791);var i=n(7621),r=n(3400),o=n(8087),a=n(1523),s=n(184);e.Z=function(t){return(0,s.jsx)(i.Z,{variant:"outlined",style:{width:"min-content",marginTop:8,alignContent:"center",justifyContent:"center",alignSelf:"center"},children:(0,s.jsx)(a.rU,{to:t.to,children:(0,s.jsx)(r.Z,{style:{borderRadius:0},children:(0,s.jsx)(o.Z,{})})})})}},7610:function(t,e,n){n(2791);var i=n(7621),r=n(3400),o=n(5397),a=n(184);e.Z=function(t){return(0,a.jsx)(i.Z,{variant:"outlined",style:{width:"min-content",marginTop:8,marginBottom:10,alignContent:"center",justifyContent:"center",alignSelf:"center"},children:(0,a.jsx)(r.Z,{style:{borderRadius:0},onClick:function(){t.onClick&&t.onClick()},children:(0,a.jsx)(o.Z,{})})})}},3348:function(t,e,n){n.r(e);var i=n(8489),r=n(3032),o=n(7853),a=n(4531),s=n(8932),c=n(2587),d=n(4322),l=n.n(d),u=n(2791),h=n(703),p=n(890),g=n(1889),f=n(7621),m=n(6647),Z=n(6125),x=n(2363),v=n(5886),y=n(419),j=n(9388),b=n(6711),w=n(7610),C=n(184),R=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).state={loading:!0,automations:[],smartobjects:[]},t.setTitle("Automation"),t.setActionType("list"),i}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var t=(0,r.Z)(l().mark((function t(){var e,n,i,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new v.Z).get().fetch("/api/automations");case 2:return e=t.sent,t.next=5,(new v.Z).get().fetch("/api/smartobjects");case 5:return n=t.sent,t.next=8,(new v.Z).get().fetch("/api/processes");case 8:i=t.sent,e.error?this.props.setMessage(e.package+" : "+e.message):n.error?this.props.setMessage(n.package+" : "+n.message):i.error?this.props.setMessage(i.package+" : "+i.message):(r=e.data.map((function(t){return"smartobject"==t.trigger.type?n.data.forEach((function(e){e.id==t.trigger.object&&(t.trigger.source=e)})):"process"==t.trigger.type&&i.data.forEach((function(e){e.id==t.trigger.object&&(t.trigger.source=e)})),"smartobject"==t.action.type?n.data.forEach((function(e){e.id==t.action.object&&(t.action.source=e)})):"process"==t.action.type&&i.data.forEach((function(e){e.id==t.action.object&&(t.action.source=e)})),t})),this.setState({loading:!1,automations:r}));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=(0,r.Z)(l().mark((function t(){var e,n=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new v.Z).delete({}).fetch("/api/automations/"+this.state.open);case 2:(e=t.sent).error?this.props.setMessage(e.package+" : "+e.message):this.setState({loading:!0,anchorEl:null,popover:!1},(function(){n.componentDidMount()}));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(y.Z,(0,i.Z)((0,i.Z)({},this.props),{},{children:(0,C.jsxs)(h.Z,{variant:"outlined",style:{padding:12,justifyContent:"left"},children:[(0,C.jsx)(p.Z,{variant:"h6",fontWeight:"bold",children:"Automation"}),(0,C.jsx)(p.Z,{variant:"subtitle2",color:"text.secondary",children:"Do what you want when you want"})]})})),(0,C.jsxs)(j.Z,{loading:this.state.loading,children:[(0,C.jsx)(g.ZP,{container:!0,spacing:1,style:{marginTop:0},children:0==this.state.automations.length?(0,C.jsx)(g.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,C.jsx)(f.Z,{variant:"outlined",style:{padding:12},children:(0,C.jsx)(p.Z,{variant:"subtitle1",color:"text.secondary",children:"You have not added a automation"})})}):this.state.automations.map((function(e,n){return(0,C.jsx)(g.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,C.jsxs)(f.Z,{variant:"outlined",children:[(0,C.jsx)(m.Z,{onClick:function(){t.setState({open:e.id})},style:{padding:12,display:"flex",flexDirection:"row",justifyContent:"flex-start"},children:(0,C.jsxs)(g.ZP,{container:!0,spacing:1,style:{marginTop:0},children:[(0,C.jsx)(g.ZP,{item:!0,xs:3,md:1,lg:1,children:(0,C.jsx)(f.Z,{variant:"outlined",style:{padding:5,borderRadius:5,marginRight:10,paddingLeft:12,paddingRight:12},children:(0,C.jsx)(p.Z,{variant:"subtitle1",style:{textAlign:"center"},children:"IF"})})}),(0,C.jsx)(g.ZP,{item:!0,xs:9,md:5,lg:2,children:(0,C.jsx)(f.Z,{variant:"outlined",style:{padding:5,borderRadius:5,marginRight:10,paddingLeft:12,paddingRight:12},children:(0,C.jsx)(p.Z,{variant:"subtitle1",style:{textAlign:"center"},children:e.trigger.trigger.toUpperCase()})})}),(0,C.jsx)(g.ZP,{item:!0,xs:3,md:1,lg:1,children:(0,C.jsx)(f.Z,{variant:"outlined",style:{padding:5,borderRadius:5,marginRight:10,paddingLeft:12,paddingRight:12},children:(0,C.jsx)(p.Z,{variant:"subtitle1",style:{textAlign:"center"},children:"ON"})})}),(0,C.jsx)(g.ZP,{item:!0,xs:9,md:5,lg:2,children:(0,C.jsx)(f.Z,{variant:"outlined",style:{padding:5,borderRadius:5,marginRight:10,paddingLeft:12,paddingRight:12},children:(0,C.jsx)(p.Z,{variant:"subtitle1",style:{textAlign:"center"},children:"smartobject"==e.trigger.type?e.trigger.source.reference.toUpperCase():e.trigger.source.description.toUpperCase()})})}),(0,C.jsx)(g.ZP,{item:!0,xs:4,md:2,lg:1,children:(0,C.jsx)(f.Z,{variant:"outlined",style:{padding:5,borderRadius:5,marginRight:10,paddingLeft:12,paddingRight:12},children:(0,C.jsx)(p.Z,{variant:"subtitle1",style:{textAlign:"center"},children:"THEN"})})}),(0,C.jsx)(g.ZP,{item:!0,xs:8,md:4,lg:2,children:(0,C.jsx)(f.Z,{variant:"outlined",style:{padding:5,borderRadius:5,marginRight:10,paddingLeft:12,paddingRight:12},children:(0,C.jsx)(p.Z,{variant:"subtitle1",style:{textAlign:"center"},children:e.action.action.toUpperCase()})})}),(0,C.jsx)(g.ZP,{item:!0,xs:3,md:1,lg:1,children:(0,C.jsx)(f.Z,{variant:"outlined",style:{padding:5,borderRadius:5,marginRight:10,paddingLeft:12,paddingRight:12},children:(0,C.jsx)(p.Z,{variant:"subtitle1",style:{textAlign:"center"},children:"ON"})})}),(0,C.jsx)(g.ZP,{item:!0,xs:9,md:5,lg:2,children:(0,C.jsx)(f.Z,{variant:"outlined",style:{padding:5,borderRadius:5,paddingLeft:10,paddingRight:10},children:(0,C.jsx)(p.Z,{variant:"subtitle1",style:{textAlign:"center"},children:"smartobject"==e.action.type?e.action.source.reference.toUpperCase():e.action.source.description.toUpperCase()})})})]})}),(0,C.jsx)(Z.Z,{in:t.state.open==e.id,timeout:"auto",unmountOnExit:!0,children:(0,C.jsx)(x.Z,{children:(0,C.jsx)(w.Z,{onClick:function(){t.delete()}})})})]})},n)}))}),(0,C.jsx)(b.Z,{to:"/automation/new"})]})]})}}]),n}(u.Component);e.default=R},8087:function(t,e,n){var i=n(4223),r=n(184);e.Z=(0,i.Z)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},5397:function(t,e,n){var i=n(4223),r=n(184);e.Z=(0,i.Z)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},6647:function(t,e,n){n.d(e,{Z:function(){return v}});var i=n(6222),r=n(7462),o=n(3366),a=n(2791),s=n(8182),c=n(767),d=n(1046),l=n(7630),u=n(5159);function h(t){return(0,u.Z)("MuiCardActionArea",t)}var p=(0,n(208).Z)("MuiCardActionArea",["root","focusVisible","focusHighlight"]),g=n(969),f=n(184),m=["children","className","focusVisibleClassName"],Z=(0,l.ZP)(g.Z,{name:"MuiCardActionArea",slot:"Root",overridesResolver:function(t,e){return e.root}})((function(t){var e,n=t.theme;return e={display:"block",textAlign:"inherit",width:"100%"},(0,i.Z)(e,"&:hover .".concat(p.focusHighlight),{opacity:n.palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}}),(0,i.Z)(e,"&.".concat(p.focusVisible," .").concat(p.focusHighlight),{opacity:n.palette.action.focusOpacity}),e})),x=(0,l.ZP)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:function(t,e){return e.focusHighlight}})((function(t){var e=t.theme;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}})),v=a.forwardRef((function(t,e){var n=(0,d.Z)({props:t,name:"MuiCardActionArea"}),i=n.children,a=n.className,l=n.focusVisibleClassName,u=(0,o.Z)(n,m),p=n,g=function(t){var e=t.classes;return(0,c.Z)({root:["root"],focusHighlight:["focusHighlight"]},h,e)}(p);return(0,f.jsxs)(Z,(0,r.Z)({className:(0,s.Z)(g.root,a),focusVisibleClassName:(0,s.Z)(l,g.focusVisible),ref:e,ownerState:p},u,{children:[i,(0,f.jsx)(x,{className:g.focusHighlight,ownerState:p})]}))}))},2363:function(t,e,n){n.d(e,{Z:function(){return f}});var i=n(3366),r=n(7462),o=n(2791),a=n(8182),s=n(767),c=n(7630),d=n(1046),l=n(5159);function u(t){return(0,l.Z)("MuiCardActions",t)}(0,n(208).Z)("MuiCardActions",["root","spacing"]);var h=n(184),p=["disableSpacing","className"],g=(0,c.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,!n.disableSpacing&&e.spacing]}})((function(t){var e=t.ownerState;return(0,r.Z)({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),f=o.forwardRef((function(t,e){var n=(0,d.Z)({props:t,name:"MuiCardActions"}),o=n.disableSpacing,c=void 0!==o&&o,l=n.className,f=(0,i.Z)(n,p),m=(0,r.Z)({},n,{disableSpacing:c}),Z=function(t){var e=t.classes,n={root:["root",!t.disableSpacing&&"spacing"]};return(0,s.Z)(n,u,e)}(m);return(0,h.jsx)(g,(0,r.Z)({className:(0,a.Z)(Z.root,l),ownerState:m,ref:e},f))}))},6125:function(t,e,n){n.d(e,{Z:function(){return C}});var i=n(6222),r=n(3366),o=n(7462),a=n(2791),s=n(8182),c=n(8875),d=n(767),l=n(7630),u=n(1046),h=n(1314),p=n(4999),g=n(3967),f=n(2071),m=n(5159);function Z(t){return(0,m.Z)("MuiCollapse",t)}(0,n(208).Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var x=n(184),v=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],y=(0,l.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,e[n.orientation],"entered"===n.state&&e.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&e.hidden]}})((function(t){var e=t.theme,n=t.ownerState;return(0,o.Z)({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===n.state&&(0,o.Z)({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"})})),j=(0,l.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:function(t,e){return e.wrapper}})((function(t){var e=t.ownerState;return(0,o.Z)({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"})})),b=(0,l.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:function(t,e){return e.wrapperInner}})((function(t){var e=t.ownerState;return(0,o.Z)({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"})})),w=a.forwardRef((function(t,e){var n=(0,u.Z)({props:t,name:"MuiCollapse"}),l=n.addEndListener,m=n.children,w=n.className,C=n.collapsedSize,R=void 0===C?"0px":C,A=n.component,E=n.easing,S=n.in,M=n.onEnter,k=n.onEntered,P=n.onEntering,N=n.onExit,H=n.onExited,z=n.onExiting,T=n.orientation,L=void 0===T?"vertical":T,D=n.style,V=n.timeout,I=void 0===V?h.x9.standard:V,U=n.TransitionComponent,F=void 0===U?c.ZP:U,O=(0,r.Z)(n,v),W=(0,o.Z)({},n,{orientation:L,collapsedSize:R}),_=function(t){var e=t.orientation,n=t.classes,i={root:["root","".concat(e)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(e)],wrapperInner:["wrapperInner","".concat(e)]};return(0,d.Z)(i,Z,n)}(W),B=(0,g.Z)(),Y=a.useRef(),q=a.useRef(null),G=a.useRef(),J="number"===typeof R?"".concat(R,"px"):R,K="horizontal"===L,Q=K?"width":"height";a.useEffect((function(){return function(){clearTimeout(Y.current)}}),[]);var X=a.useRef(null),$=(0,f.Z)(e,X),tt=function(t){return function(e){if(t){var n=X.current;void 0===e?t(n):t(n,e)}}},et=function(){return q.current?q.current[K?"clientWidth":"clientHeight"]:0},nt=tt((function(t,e){q.current&&K&&(q.current.style.position="absolute"),t.style[Q]=J,M&&M(t,e)})),it=tt((function(t,e){var n=et();q.current&&K&&(q.current.style.position="");var i=(0,p.C)({style:D,timeout:I,easing:E},{mode:"enter"}),r=i.duration,o=i.easing;if("auto"===I){var a=B.transitions.getAutoHeightDuration(n);t.style.transitionDuration="".concat(a,"ms"),G.current=a}else t.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");t.style[Q]="".concat(n,"px"),t.style.transitionTimingFunction=o,P&&P(t,e)})),rt=tt((function(t,e){t.style[Q]="auto",k&&k(t,e)})),ot=tt((function(t){t.style[Q]="".concat(et(),"px"),N&&N(t)})),at=tt(H),st=tt((function(t){var e=et(),n=(0,p.C)({style:D,timeout:I,easing:E},{mode:"exit"}),i=n.duration,r=n.easing;if("auto"===I){var o=B.transitions.getAutoHeightDuration(e);t.style.transitionDuration="".concat(o,"ms"),G.current=o}else t.style.transitionDuration="string"===typeof i?i:"".concat(i,"ms");t.style[Q]=J,t.style.transitionTimingFunction=r,z&&z(t)}));return(0,x.jsx)(F,(0,o.Z)({in:S,onEnter:nt,onEntered:rt,onEntering:it,onExit:ot,onExited:at,onExiting:st,addEndListener:function(t){"auto"===I&&(Y.current=setTimeout(t,G.current||0)),l&&l(X.current,t)},nodeRef:X,timeout:"auto"===I?null:I},O,{children:function(t,e){return(0,x.jsx)(y,(0,o.Z)({as:A,className:(0,s.Z)(_.root,w,{entered:_.entered,exited:!S&&"0px"===J&&_.hidden}[t]),style:(0,o.Z)((0,i.Z)({},K?"minWidth":"minHeight",J),D),ownerState:(0,o.Z)({},W,{state:t}),ref:$},e,{children:(0,x.jsx)(j,{ownerState:(0,o.Z)({},W,{state:t}),className:_.wrapper,ref:q,children:(0,x.jsx)(b,{ownerState:(0,o.Z)({},W,{state:t}),className:_.wrapperInner,children:m})})}))}}))}));w.muiSupportAuto=!0;var C=w}}]);
//# sourceMappingURL=348.10677a91.chunk.js.map