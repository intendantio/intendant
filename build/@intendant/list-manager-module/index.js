"use strict";var _package=_interopRequireDefault(require("./package.json"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}class InternalListManager{constructor(a){this.storageKey=_package.default.name,this.core=a,this.lists={},this.initialisation()}async initialisation(){let a=await this.core.controller.storage.getItem(_package.default.name);a&&a.data.lists?this.lists=a.data.lists:await this.core.controller.storage.setItem(_package.default.name,{lists:{}})}async synchronize(){await this.core.controller.storage.setItem(_package.default.name,{lists:this.lists})}async __getAll(a={}){let b=[];for(let c in this.lists)b.push(c);return{error:!1,package:_package.default.name,message:"",data:b}}async __getSize(a={}){return a.reference?this.lists[a.reference]?{error:!1,package:_package.default.name,message:"",data:{size:this.lists[a.reference].length}}:{error:!0,package:_package.default.name,message:"List is missing"}:{error:!0,package:_package.default.name,message:"Reference is missing"}}async __getOne(a={}){return a.reference?this.lists[a.reference]?{error:!1,package:_package.default.name,message:"",data:this.lists[a.reference]}:{error:!0,package:_package.default.name,message:"List is missing"}:{error:!0,package:_package.default.name,message:"Reference is missing"}}async __create(a={}){return a.reference?this.lists[a.reference]?{error:!0,package:_package.default.name,message:"List already exist"}:(this.lists[a.reference]=[],await this.synchronize(),{error:!1,package:_package.default.name,message:""}):{error:!0,package:_package.default.name,message:"Reference is missing"}}async __add(a={}){return a.reference?a.item?this.lists[a.reference]?(this.lists[a.reference].push(a.item),await this.synchronize(),{error:!1,package:_package.default.name,message:""}):{error:!0,package:_package.default.name,message:"List is missing"}:{error:!0,package:_package.default.name,message:"Item is missing"}:{error:!0,package:_package.default.name,message:"Reference is missing"}}async __remove(a={}){return a.reference?a.index?this.lists[a.reference]?this.lists[a.reference][a.index]?(this.lists[a.reference].splice(a.index,1),await this.synchronize(),{error:!1,package:_package.default.name,message:""}):{error:!0,package:_package.default.name,message:"Index invalid"}:{error:!0,package:_package.default.name,message:"List is missing"}:{error:!0,package:_package.default.name,message:"Index is missing"}:{error:!0,package:_package.default.name,message:"Reference is missing"}}async __clear(a={}){return a.reference?this.lists[a.reference]?(this.lists[a.reference]=[],await this.synchronize(),{error:!1,package:_package.default.name,message:""}):{error:!0,package:_package.default.name,message:"List is missing"}:{error:!0,package:_package.default.name,message:"Reference is missing"}}async __delete(a={}){return a.reference?this.lists[a.reference]?(delete this.lists[a.reference],await this.synchronize(),{error:!1,package:_package.default.name,message:""}):{error:!0,package:_package.default.name,message:"List is missing"}:{error:!0,package:_package.default.name,message:"Reference is missing"}}}var _default=InternalListManager;exports.default=_default,module.exports=exports.default;